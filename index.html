<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Game Hub | Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ø¯ÙŠ</title>
    <style>
        /* --- 1. CSS & Design System --- */
        :root {
            --primary: #00f3ff;
            --secondary: #bc13fe;
            --football-primary: #00ff88; /* Ù„ÙˆÙ† Ø®Ø§Øµ Ù„Ù„ÙƒØ±Ø© */
            --football-sec: #ffaa00;
            --bg-dark: #050508;
            --glass: rgba(20, 20, 35, 0.9);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #ffffff;
            --danger: #ff0055;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Segoe UI', Tahoma, sans-serif; }

        body {
            background-color: var(--bg-dark);
            background-image: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #000 100%);
            color: var(--text-main);
            margin: 0; min-height: 100vh;
            display: flex; justify-content: center; align-items: center; overflow-x: hidden;
        }

        .glass-container {
            width: 95%; max-width: 600px; min-height: 85vh;
            background: var(--glass); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border); border-radius: 24px;
            padding: 1.5rem; position: relative;
            box-shadow: 0 0 40px rgba(0,0,0,0.6);
            display: flex; flex-direction: column; align-items: center;
        }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .home-grid {
            display: grid; grid-template-columns: 1fr; gap: 20px; width: 100%; margin-top: 30px;
        }

        .game-card {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            padding: 25px; border-radius: 20px; text-align: center; cursor: pointer;
            transition: all 0.3s; position: relative; overflow: hidden;
        }

        .game-card:hover { transform: translateY(-5px); border-color: var(--primary); }
        .game-card h2 { margin: 10px 0; font-size: 1.5rem; }
        .game-card p { font-size: 0.9rem; color: #aaa; margin: 0; }
        .icon { font-size: 3rem; margin-bottom: 10px; display: block; }

        /* Ø³ØªØ§ÙŠÙ„ Ø®Ø§Øµ Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒØ±Ø© */
        .card-football:hover { border-color: var(--football-primary); box-shadow: 0 0 20px rgba(0, 255, 136, 0.2); }
        .card-iq:hover { border-color: var(--secondary); box-shadow: 0 0 20px rgba(188, 19, 254, 0.2); }

        /* Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ */
        .timer-container { position: relative; width: 70px; height: 70px; margin: 10px auto; }
        .timer-svg { transform: rotate(-90deg); width: 100%; height: 100%; }
        .timer-circle-bg { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 6; }
        .timer-circle-progress {
            fill: none; stroke: var(--primary); stroke-width: 6; stroke-linecap: round;
            stroke-dasharray: 200; stroke-dashoffset: 0; transition: stroke-dashoffset 1s linear;
        }
        .timer-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-weight: bold; }

        /* Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
        .options-grid { display: grid; grid-template-columns: 1fr; gap: 10px; width: 100%; margin-top: 20px; }
        .option-card {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            padding: 15px; border-radius: 12px; cursor: pointer; transition: 0.2s;
            display: flex; justify-content: space-between; align-items: center;
        }
        .option-card.correct { background: rgba(0, 255, 157, 0.2) !important; border-color: #00ff9d !important; }
        .option-card.wrong { background: rgba(255, 0, 85, 0.2) !important; border-color: #ff0055 !important; }
        .option-card.disabled { pointer-events: none; }

        /* Ø´Ø§Ø´Ø§Øª ÙˆØ§Ù†ØªÙ‚Ø§Ù„Ø§Øª */
        .screen { display: none; width: 100%; animation: fadeIn 0.4s forwards; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Ù‡ÙŠØ¯Ø± Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .game-header { width: 100%; display: flex; justify-content: space-between; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 15px; font-size: 0.9rem; color: #ccc;}
        
        .level-badge {
            background: var(--football-sec); color: #000; padding: 2px 10px; border-radius: 10px; font-weight: bold; font-size: 0.8rem;
        }

        .btn-main {
            background: linear-gradient(45deg, var(--secondary), var(--primary)); border: none;
            color: #000; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%;
        }
    </style>
</head>
<body>

    <div class="glass-container">
        
        <div id="home-screen" class="screen active">
            <h1 style="text-align: center; margin-bottom: 5px;">ğŸ® Ø§Ø®ØªØ± Ø§Ù„ØªØ­Ø¯ÙŠ</h1>
            <p style="text-align: center; color: #aaa; margin-top: 0;">Ø§Ø®ØªØ¨Ø± Ø¹Ù‚Ù„Ùƒ Ø£Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„ÙƒØ±ÙˆÙŠØ©</p>
            
            <div class="home-grid">
                <div class="game-card card-football" onclick="app.initGame('football')">
                    <span class="icon">âš½</span>
                    <h2>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±</h2>
                    <p>4 Ù…Ø±Ø§Ø­Ù„ | 15 Ø«Ø§Ù†ÙŠØ©</p>
                    <p style="color: var(--football-primary); margin-top:5px; font-size: 0.8rem;">Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ù‚Ø§Ø¡ Ù„Ù„Ø£Ù‚ÙˆÙ‰</p>
                </div>

                <div class="game-card card-iq" onclick="app.initGame('iq')">
                    <span class="icon">ğŸ§ </span>
                    <h2>Ø§Ø®ØªØ¨Ø§Ø± IQ Pro</h2>
                    <p>25 Ø³Ø¤Ø§Ù„ | 30 Ø«Ø§Ù†ÙŠØ©</p>
                    <p style="color: var(--secondary); margin-top:5px; font-size: 0.8rem;">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ</p>
                </div>
            </div>
        </div>

        <div id="game-screen" class="screen">
            <div class="game-header">
                <span id="header-left">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</span>
                <span id="header-right">Ø³Ø¤Ø§Ù„ 1/10</span>
            </div>

            <div class="timer-container">
                <svg class="timer-svg" viewBox="0 0 70 70">
                    <circle class="timer-circle-bg" cx="35" cy="35" r="32"></circle>
                    <circle id="timer-progress" class="timer-circle-progress" cx="35" cy="35" r="32"></circle>
                </svg>
                <div id="timer-text" class="timer-text">00</div>
            </div>

            <h3 id="question-text" style="text-align: center; min-height: 60px; margin: 20px 0;">...</h3>

            <div id="options-container" class="options-grid"></div>
        </div>

        <div id="level-screen" class="screen" style="text-align: center;">
            <div style="font-size: 4rem;">ğŸ†</div>
            <h2 id="level-title">Ù…Ø¨Ø±ÙˆÙƒ!</h2>
            <p id="level-msg">Ù„Ù‚Ø¯ ØªØ£Ù‡Ù„Øª Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</p>
            <p style="color: var(--football-primary); font-size: 0.9rem;">Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©: <span id="next-req">60%</span></p>
            <button class="btn-main" onclick="app.nextLevelStart()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>
        </div>

        <div id="result-screen" class="screen" style="text-align: center;">
            <div id="res-icon" style="font-size: 4rem;">ğŸ“Š</div>
            <h1 id="res-title">Ø§Ù„Ù†ØªÙŠØ¬Ø©</h1>
            <div id="res-score-box" style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; margin: 20px 0;">
                <div id="res-big-score" style="font-size: 3rem; font-weight: bold; color: var(--primary);">0</div>
                <div id="res-desc" style="color: #aaa;">...</div>
            </div>
            <p id="res-detail" style="line-height: 1.6; color: #ddd;"></p>
            <button class="btn-main" onclick="location.reload()">Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        </div>

    </div>

    <script>
        // --- 1. Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ---
        
        // IQ Database (Ø¹ÙŠÙ†Ø©)
        const IQ_DB = [
            { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ÙƒÙ…Ù„: 2, 4, 8, 16, ...ØŸ", opts: ["32", "24", "30", "18"], c: 0 },
            { q: "Ø³Ø¹Ø± 3 Ø£Ù‚Ù„Ø§Ù… 15ØŒ ÙƒÙ… Ø³Ø¹Ø± 7 Ø£Ù‚Ù„Ø§Ù…ØŸ", opts: ["35", "30", "25", "40"], c: 0 },
            { q: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØºØ±ÙŠØ¨Ø©: ØªÙØ§Ø­ØŒ Ù…ÙˆØ²ØŒ Ø¬Ø²Ø±ØŒ Ø¹Ù†Ø¨", opts: ["ØªÙØ§Ø­", "Ù…ÙˆØ²", "Ø¬Ø²Ø±", "Ø¹Ù†Ø¨"], c: 2 },
            { q: "100 Ù‚Ø³Ù…Ø© Ù†ØµÙ ÙŠØ³Ø§ÙˆÙŠØŸ", opts: ["50", "200", "25", "100"], c: 1 },
            { q: "Ø¥Ø°Ø§ ÙƒØ§Ù† Ø£Ù…Ø³ Ù‡Ùˆ ØºØ¯Ø§Ù‹ØŒ Ù„ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª. Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙŠÙˆÙ…ØŸ", opts: ["Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ø£Ø­Ø¯", "Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†", "Ø§Ù„Ø®Ù…ÙŠØ³"], c: 0 },
            { q: "Ù…Ø§ Ù‡Ùˆ Ù†ØµÙ Ø±Ø¨Ø¹ 400ØŸ", opts: ["100", "50", "25", "10"], c: 1 },
            { q: "Ø£ÙƒÙ…Ù„: Ø£ØŒ ØªØŒ Ø¬ØŒ Ø®ØŒ ...", opts: ["Ø¯", "Ø°", "Ø±", "Ø²"], c: 0 },
            { q: "Ø¹Ù„Ø§Ù‚Ø© (ÙŠØ¯:Ù‚ÙØ§Ø²) Ù…Ø«Ù„ (Ù‚Ø¯Ù…:...)", opts: ["Ø¬ÙˆØ±Ø¨", "Ø­Ø°Ø§Ø¡", "Ø±ÙƒØ¨Ø©", "Ø¥ØµØ¨Ø¹"], c: 0 },
            { q: "Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ù…Ø®ØªÙ„Ù: Ù…Ø±Ø¨Ø¹ØŒ Ù…Ø³ØªØ·ÙŠÙ„ØŒ Ù…Ø«Ù„Ø«ØŒ Ø¯Ø§Ø¦Ø±Ø©", opts: ["Ù…Ø±Ø¨Ø¹", "Ù…Ø³ØªØ·ÙŠÙ„", "Ù…Ø«Ù„Ø«", "Ø¯Ø§Ø¦Ø±Ø©"], c: 3 },
            { q: "Ø§Ù„Ù‚Ø·Ø© Ù„Ù„ÙØ£Ø± Ù…Ø«Ù„ Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª Ù„Ù€...", opts: ["Ø§Ù„Ø®ÙŠØ·", "Ø§Ù„Ø°Ø¨Ø§Ø¨Ø©", "Ø§Ù„Ø´Ø¨ÙƒØ©", "Ø§Ù„Ø³Ù…"], c: 1 },
            // ... Ø§ÙØªØ±Ø¶ ÙˆØ¬ÙˆØ¯ 25 Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
            { q: "Ù…Ø§ Ù‡Ùˆ Ø­Ø§ØµÙ„ Ø¶Ø±Ø¨ 12 ÙÙŠ 12ØŸ", opts: ["144", "124", "122", "142"], c: 0 },
            { q: "Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø´Ø§Ø°: 3, 5, 7, 9, 11", opts: ["9", "5", "7", "11"], c: 0 },
            { q: "Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø¹Ø§ÙƒØ³ Ù„Ù„Ø£Ø­Ù…Ø±ØŸ", opts: ["Ø£Ø²Ø±Ù‚", "Ø£Ø®Ø¶Ø±", "Ø£ØµÙØ±", "Ø£Ø³ÙˆØ¯"], c: 1 },
            { q: "ÙƒÙ… Ø´Ù‡Ø±Ø§Ù‹ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 28 ÙŠÙˆÙ…Ø§Ù‹ØŸ", opts: ["1", "12", "6", "0"], c: 1 },
            { q: "Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø³Ø§Ø¹Ø© 3:00 ÙˆØªØ­Ø±ÙƒØª 90 Ø¯Ø±Ø¬Ø©ØŸ", opts: ["6:00", "5:00", "4:30", "12:00"], c: 0 }
        ];

        // Football Database (50 Questions)
        const FOOTBALL_POOL = [
            // Level 1 & 2 (Easier)
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯ØŸ", opts: ["Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "Ø±Ø§Ø¤ÙˆÙ„", "Ø¨Ù†Ø²ÙŠÙ…Ø§", "Ø¯ÙŠ Ø³ØªÙŠÙØ§Ù†Ùˆ"], c: 0 },
            { q: "ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ÙÙŠ Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ø±Ø³Ù…ÙŠØ©ØŸ", opts: ["45", "90", "100", "60"], c: 1 },
            { q: "Ù…Ù† ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2022ØŸ", opts: ["ÙØ±Ù†Ø³Ø§", "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§"], c: 2 },
            { q: "Ø£ÙŠ Ù†Ø§Ø¯Ù ÙŠÙ„Ù‚Ø¨ Ø¨Ù€ 'Ø§Ù„Ø±ÙˆØ³ÙˆÙ†ÙŠØ±ÙŠ'ØŸ", opts: ["Ø¥Ù†ØªØ± Ù…ÙŠÙ„Ø§Ù†", "Ù…ÙŠÙ„Ø§Ù†", "Ø±ÙˆÙ…Ø§", "ÙŠÙˆÙÙ†ØªÙˆØ³"], c: 1 },
            { q: "ÙÙŠ Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù†Ø´Ø£Øª ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ø­Ø¯ÙŠØ«Ø©ØŸ", opts: ["Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "Ø¥Ù†Ø¬Ù„ØªØ±Ø§", "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§"], c: 1 },
            { q: "Ù…Ø§ Ù‡Ùˆ Ù„ÙˆÙ† Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ø±Ø¯ØŸ", opts: ["Ø£ØµÙØ±", "Ø£Ø­Ù…Ø±", "Ø£Ø²Ø±Ù‚", "Ø£Ø¨ÙŠØ¶"], c: 1 },
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ù€ 'Ø§Ù„Ø¨Ø±ØºÙˆØ«'ØŸ", opts: ["Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "Ù…ÙŠØ³ÙŠ", "Ù†ÙŠÙ…Ø§Ø±", "ØµÙ„Ø§Ø­"], c: 1 },
            { q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„ÙØ±ÙŠÙ‚ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ø¹Ø¨ØŸ", opts: ["10", "11", "12", "9"], c: 1 },
            { q: "Ø£ÙŠ ÙØ±ÙŠÙ‚ Ø­Ù‚Ù‚ Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ 2024ØŸ", opts: ["Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯", "Ø¯ÙˆØ±ØªÙ…ÙˆÙ†Ø¯", "Ø§Ù„Ø³ÙŠØªÙŠ", "Ø¨Ø§ÙŠØ±Ù†"], c: 0 },
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø­Ø§Ø±Ø³ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª Ø§Ù„Ø£Ø³ÙˆØ¯ØŸ", opts: ["Ø¨ÙˆÙÙˆÙ†", "ÙŠØ§Ø´ÙŠÙ†", "ÙƒØ§Ø³ÙŠØ§Ø³", "Ù†ÙˆÙŠØ±"], c: 1 },
            { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø£ÙƒØ«Ø± ØªØªÙˆÙŠØ¬Ø§Ù‹ Ø¨Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ØŸ", opts: ["Ù…ÙŠÙ„Ø§Ù†", "Ù„ÙŠÙØ±Ø¨ÙˆÙ„", "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯", "Ø¨Ø§ÙŠØ±Ù†"], c: 2 },
            { q: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ÙØ§Ø²Øª Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø¨Ø£ÙˆÙ„ ÙƒØ£Ø³ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ØŸ", opts: ["1990", "2019", "1982", "2010"], c: 0 },
            { q: "Ø£ÙŠÙ† Ø£Ù‚ÙŠÙ… ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2010ØŸ", opts: ["Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§", "ÙØ±Ù†Ø³Ø§"], c: 1 },
            { q: "Ù…Ù† Ù‡Ùˆ Ù…Ø¯Ø±Ø¨ Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ (2024)ØŸ", opts: ["ÙƒÙ„ÙˆØ¨", "ØºÙˆØ§Ø±Ø¯ÙŠÙˆÙ„Ø§", "Ø£Ù†Ø´ÙŠÙ„ÙˆØªÙŠ", "Ù…ÙˆØ±ÙŠÙ†ÙŠÙˆ"], c: 1 },
            
            // Level 3 & 4 (Harder)
            { q: "Ù…Ù† ÙØ§Ø² Ø¨Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© Ø¹Ø§Ù… 2007ØŸ", opts: ["ÙƒØ§ÙƒØ§", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "Ù…ÙŠØ³ÙŠ", "Ø²ÙŠØ¯Ø§Ù†"], c: 0 },
            { q: "Ù…Ø§ Ù‡Ùˆ Ø£Ù‚Ø¯Ù… Ù†Ø§Ø¯ÙŠ ÙƒØ±Ø© Ù‚Ø¯Ù… ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", opts: ["Ø´ÙŠÙÙŠÙ„Ø¯", "Ù†ÙˆØªØºÙ‡Ø§Ù…", "Ø£Ø³ØªÙˆÙ† ÙÙŠÙ„Ø§", "Ù„ÙŠÙØ±Ø¨ÙˆÙ„"], c: 0 },
            { q: "ÙƒÙ… Ù…Ø±Ø© ÙØ§Ø²Øª Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", opts: ["4", "5", "6", "3"], c: 1 },
            { q: "Ù…Ù† Ø³Ø¬Ù„ Ù‡Ø¯Ù 'ÙŠØ¯ Ø§Ù„Ù„Ù‡'ØŸ", opts: ["Ø¨ÙŠÙ„ÙŠÙ‡", "Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§", "Ø±ÙˆÙ…Ø§Ø±ÙŠÙˆ", "Ø²ÙŠØ¯Ø§Ù†"], c: 1 },
            { q: "Ù…Ø§ Ù‡Ùˆ Ù…Ù„Ø¹Ø¨ Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©ØŸ", opts: ["Ø¨ÙŠØ±Ù†Ø§Ø¨ÙŠÙˆ", "ÙƒØ§Ù…Ø¨ Ù†Ùˆ", "Ø£Ù†ÙÙŠÙ„Ø¯", "ÙˆÙŠÙ…Ø¨Ù„ÙŠ"], c: 1 },
            { q: "Ù„Ø§Ø¹Ø¨ Ø­Ù‚Ù‚ ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… ÙƒÙ„Ø§Ø¹Ø¨ ÙˆÙƒÙ…Ø¯Ø±Ø¨ØŸ", opts: ["Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§", "Ø¯ÙŠØ´Ø§Ù…Ø¨", "Ø¨Ù„Ø§ØªÙŠÙ†ÙŠ", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ"], c: 1 },
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŸ", opts: ["Ø±ÙˆÙ†ÙŠ", "Ø´ÙŠØ±Ø±", "ÙƒÙŠÙ†", "Ø£ØºÙˆÙŠØ±Ùˆ"], c: 1 },
            { q: "Ù…ØªÙ‰ ØªØ£Ø³Ø³ Ù†Ø§Ø¯ÙŠ Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯ØŸ", opts: ["1899", "1902", "1905", "1910"], c: 1 },
            { q: "Ø£ÙƒØ¨Ø± Ù†ØªÙŠØ¬Ø© ÙÙŠ Ù†Ù‡Ø§Ø¦ÙŠ ÙƒØ£Ø³ Ø¹Ø§Ù„Ù…ØŸ", opts: ["5-2", "4-2", "3-0", "7-1"], c: 0 }, // 1958 Brazil 5-2 Sweden
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø§Ù„Ø°ÙŠ ÙØ§Ø² Ø¨Ù€ 3 ÙƒØ¤ÙˆØ³ Ø¹Ø§Ù„Ù…ØŸ", opts: ["Ø¨ÙŠÙ„ÙŠÙ‡", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "ÙƒØ§ÙÙˆ", "Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§"], c: 0 },
            { q: "Ø£ÙŠ Ù†Ø§Ø¯ÙŠ Ø¥ÙŠØ·Ø§Ù„ÙŠ Ù„Ù… ÙŠÙ‡Ø¨Ø· Ù„Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø£Ø¨Ø¯Ø§Ù‹ØŸ", opts: ["ÙŠÙˆÙÙ†ØªÙˆØ³", "Ù…ÙŠÙ„Ø§Ù†", "Ø¥Ù†ØªØ±", "Ø±ÙˆÙ…Ø§"], c: 2 },
            { q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ù‡Ø¯Ø§Ù Ø±ÙŠØ§Ø¶ Ù…Ø­Ø±Ø² Ù…Ø¹ Ù„ÙŠØ³ØªØ± ÙÙŠ Ù…ÙˆØ³Ù… Ø§Ù„Ù…Ø¹Ø¬Ø²Ø©ØŸ", opts: ["15", "17", "19", "21"], c: 1 },
            { q: "Ù…Ù† Ø­Ù‚Ù‚ Ø§Ù„ÙŠÙˆØ±Ùˆ 2004 (Ø§Ù„Ù…Ø¹Ø¬Ø²Ø©)ØŸ", opts: ["Ø§Ù„Ø¨Ø±ØªØºØ§Ù„", "Ø§Ù„ÙŠÙˆÙ†Ø§Ù†", "Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§", "ÙØ±Ù†Ø³Ø§"], c: 1 },
            { q: "Ø£ÙˆÙ„ Ù…Ù†ØªØ®Ø¨ Ø¹Ø±Ø¨ÙŠ Ø´Ø§Ø±Ùƒ ÙÙŠ ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", opts: ["Ø§Ù„Ù…ØºØ±Ø¨", "ØªÙˆÙ†Ø³", "Ù…ØµØ±", "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©"], c: 2 },
            { q: "Ù…Ù† Ù‡Ùˆ 'Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©'ØŸ", opts: ["ÙƒØ±Ø³ØªÙŠØ§Ù†Ùˆ", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ Ù†Ø§Ø²Ø§Ø±ÙŠÙˆ", "Ø±ÙˆÙ†Ø§Ù„Ø¯ÙŠÙ†ÙŠÙˆ", "Ù…Ø¨Ø§Ø¨ÙŠ"], c: 1 },
            { q: "Ù†Ø§Ø¯ÙŠ ÙŠÙ„Ù‚Ø¨ Ø¨Ù€ Ø§Ù„ØºÙˆØ§ØµØ§Øª Ø§Ù„ØµÙØ±Ø§Ø¡ØŸ", opts: ["Ù‚Ø§Ø¯Ø´", "ÙÙŠØ§Ø±ÙŠØ§Ù„", "Ø¯ÙˆØ±ØªÙ…ÙˆÙ†Ø¯", "Ù†Ø§Ù†Øª"], c: 1 },
            { q: "Ù…Ù† Ø³Ø¬Ù„ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ù„ÙØ±Ù†Ø³Ø§ ÙÙŠ ÙŠÙˆØ±Ùˆ 2000ØŸ", opts: ["Ø²ÙŠØ¯Ø§Ù†", "ØªØ±ÙŠØ²ÙŠØºÙŠÙ‡", "Ù‡Ù†Ø±ÙŠ", "Ø¨ÙŠØ±ÙŠØ³"], c: 1 },
            { q: "ÙƒÙ… ÙŠØ¨Ù„Øº ÙˆØ²Ù† Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ØŸ", opts: ["5 ÙƒØº", "7 ÙƒØº", "12 ÙƒØº", "3 ÙƒØº"], c: 1 }, // Ø­ÙˆØ§Ù„ÙŠ 7.2
            { q: "Ù…Ù† Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø°ÙŠ ÙØ§Ø² Ø¨Ù€ 3 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ù…ØªØªØ§Ù„ÙŠØ©ØŸ", opts: ["ØºÙˆØ§Ø±Ø¯ÙŠÙˆÙ„Ø§", "Ø²ÙŠØ¯Ø§Ù†", "ÙÙŠØ±ØºØ³ÙˆÙ†", "Ù…ÙˆØ±ÙŠÙ†ÙŠÙˆ"], c: 1 },
            { q: "Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙŠ Ø®Ø³Øª 3 Ù†Ù‡Ø§Ø¦ÙŠØ§Øª ÙƒØ£Ø³ Ø¹Ø§Ù„Ù…ØŸ", opts: ["Ù‡ÙˆÙ„Ù†Ø¯Ø§", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§", "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§"], c: 0 },
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", opts: ["Ø¨ÙŠÙ„ÙŠÙ‡", "ÙƒÙ„ÙˆØ²Ù‡", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "Ù…ÙˆÙ„Ø±"], c: 1 },
            { q: "ÙÙŠ Ø£ÙŠ Ø¯Ù‚ÙŠÙ‚Ø© Ø³Ø¬Ù„ Ø±Ø§Ù…ÙˆØ³ Ù‡Ø¯ÙÙ‡ Ø¶Ø¯ Ø£ØªÙ„ØªÙŠÙƒÙˆ (Ø§Ù„Ø¹Ø§Ø´Ø±Ø©)ØŸ", opts: ["90", "92:48", "93:20", "91:15"], c: 1 },
            { q: "ÙƒÙ… ÙØ±ÙŠÙ‚ ÙŠÙ‡Ø¨Ø· ÙÙŠ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŸ", opts: ["2", "3", "4", "1"], c: 1 },
            { q: "Ø£ÙˆÙ„ Ù„Ø§Ø¹Ø¨ Ø£ÙØ±ÙŠÙ‚ÙŠ ÙŠÙÙˆØ² Ø¨Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©ØŸ", opts: ["Ø¯Ø±ÙˆØºØ¨Ø§", "ÙˆÙŠØ§", "Ø¥ÙŠØªÙˆ", "ØµÙ„Ø§Ø­"], c: 1 },
            { q: "Ù…Ù„Ø¹Ø¨ Ù†Ù‡Ø§Ø¦ÙŠ Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ 2022ØŸ", opts: ["Ø§Ù„Ø¨ÙŠØª", "Ù„ÙˆØ³ÙŠÙ„", "Ø®Ù„ÙŠÙØ©", "Ø§Ù„Ø¬Ù†ÙˆØ¨"], c: 1 },
            { q: "Ù…Ø§ Ù‡ÙŠ Ø¬Ù†Ø³ÙŠØ© Ù‡Ø§Ù„Ø§Ù†Ø¯ØŸ", opts: ["Ø³ÙˆÙŠØ¯ÙŠ", "Ù†Ø±ÙˆÙŠØ¬ÙŠ", "Ø¯Ù†Ù…Ø§Ø±ÙƒÙŠ", "Ø£Ù„Ù…Ø§Ù†ÙŠ"], c: 1 }
        ];

        // --- 2. Ù…Ø­Ø±Ùƒ Ø§Ù„Ù„Ø¹Ø¨Ø© (Game Engine) ---
        const app = {
            state: {
                mode: null, // 'iq' or 'football'
                questions: [],
                qIndex: 0,
                score: 0,
                timer: null,
                timeLeft: 0,
                maxTime: 0,
                isProcessing: false,
                // Football specific
                level: 1,
                levelScore: 0
            },

            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            initGame: function(mode) {
                this.state.mode = mode;
                this.state.score = 0;
                this.state.qIndex = 0;
                
                document.getElementById('home-screen').classList.remove('active');
                document.getElementById('game-screen').classList.add('active');

                if (mode === 'iq') {
                    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª IQ
                    this.state.maxTime = 30;
                    this.state.questions = [...IQ_DB]; // Ø§Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (ÙŠÙ…ÙƒÙ† Ø²ÙŠØ§Ø¯ØªÙ‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹)
                    this.state.level = 0; // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªÙˆÙŠØ§Øª
                    this.renderQuestion();
                } else {
                    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…
                    this.state.maxTime = 15;
                    this.state.level = 1;
                    this.state.levelScore = 0;
                    // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ³Ø­Ø¨ 50 Ù…Ù†Ù‡Ø§ (Ø£Ùˆ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯)
                    let shuffled = [...FOOTBALL_POOL].sort(() => 0.5 - Math.random());
                    // Ø³Ù†Ø­ØªØ§Ø¬ 10 Ø£Ø³Ø¦Ù„Ø© Ù„ÙƒÙ„ Ù…Ø±Ø­Ù„Ø©ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªÙ‚Ø³ÙŠÙ…Ù‡Ø§ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨
                    this.state.questions = shuffled;
                    this.startLevel(1);
                }
            },

            // Ø¨Ø¯Ø¡ Ù…Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ø®Ø§Øµ Ø¨Ø§Ù„ÙƒØ±Ø©)
            startLevel: function(lvl) {
                this.state.level = lvl;
                this.state.levelScore = 0;
                // ØªØ­Ø¯ÙŠØ¯ Ù†Ø·Ø§Ù‚ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©: Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 (0-9)ØŒ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 (10-19)...
                // qIndex Ø³Ù†Ø³ØªØ®Ø¯Ù…Ù‡ ÙƒÙ…Ø¤Ø´Ø± Ø¹Ø§Ù„Ù…ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØµÙÙˆÙØ©
                // Ù„ÙƒÙ† Ø³Ù†Ø¹Ø±Ø¶ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… "Ø³Ø¤Ø§Ù„ 1/10"
                document.getElementById('level-screen').classList.remove('active');
                document.getElementById('game-screen').classList.add('active');
                
                this.renderQuestion();
            },

            renderQuestion: function() {
                this.state.isProcessing = false;
                this.state.timeLeft = this.state.maxTime;
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
                let currentQObj = this.state.questions[this.state.qIndex];
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                if (this.state.mode === 'football') {
                    let qInLevel = (this.state.qIndex % 10) + 1;
                    document.getElementById('header-left').innerText = `Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${this.state.level}`;
                    document.getElementById('header-right').innerText = `Ø³Ø¤Ø§Ù„ ${qInLevel}/10`;
                    // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ù„ÙƒØ±Ø©
                    document.getElementById('timer-progress').style.stroke = "var(--football-primary)";
                } else {
                    document.getElementById('header-left').innerText = "Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡";
                    document.getElementById('header-right').innerText = `Ø³Ø¤Ø§Ù„ ${this.state.qIndex + 1}/25`;
                    document.getElementById('timer-progress').style.stroke = "var(--primary)";
                }

                document.getElementById('question-text').innerText = currentQObj.q;

                // Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
                const container = document.getElementById('options-container');
                container.innerHTML = '';
                currentQObj.opts.forEach((opt, i) => {
                    const div = document.createElement('div');
                    div.className = 'option-card';
                    div.id = `opt-${i}`;
                    div.innerHTML = `<span>${opt}</span>`;
                    div.onclick = () => this.checkAnswer(i);
                    container.appendChild(div);
                });

                // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª
                this.runTimer();
            },

            runTimer: function() {
                clearInterval(this.state.timer);
                this.updateTimerUI();
                
                this.state.timer = setInterval(() => {
                    this.state.timeLeft--;
                    this.updateTimerUI();
                    if (this.state.timeLeft <= 0) {
                        this.handleTimeout();
                    }
                }, 1000);
            },

            updateTimerUI: function() {
                const circle = document.getElementById('timer-progress');
                const text = document.getElementById('timer-text');
                const totalDash = 200;
                
                text.innerText = this.state.timeLeft;
                const offset = totalDash - ((this.state.timeLeft / this.state.maxTime) * totalDash);
                circle.style.strokeDashoffset = offset;

                // Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªØ­Ø°ÙŠØ±
                if (this.state.timeLeft <= 5) circle.style.stroke = "var(--danger)";
            },

            checkAnswer: function(selectedIdx) {
                if (this.state.isProcessing) return;
                this.state.isProcessing = true;
                clearInterval(this.state.timer);

                const q = this.state.questions[this.state.qIndex];
                const isCorrect = (selectedIdx === q.c);

                // Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
                document.getElementById(`opt-${q.c}`).classList.add('correct');
                if (!isCorrect && selectedIdx !== -1) {
                    document.getElementById(`opt-${selectedIdx}`).classList.add('wrong');
                }
                document.querySelectorAll('.option-card').forEach(d => d.classList.add('disabled'));

                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦
