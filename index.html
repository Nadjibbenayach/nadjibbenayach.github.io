<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©</title>
    <style>
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª CSS */
        :root { --main-color: #2c3e50; --accent-color: #e67e22; --success: #27ae60; --error: #c0392b; --text: #ecf0f1; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--main-color); color: var(--text); padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { width: 100%; max-width: 600px; background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        
        /* Ø§Ù„Ø±Ø£Ø³ ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± */
        header h1 { text-align: center; color: #f1c40f; margin-bottom: 20px; }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 15px; border: none; border-radius: 8px; background: #34495e; color: white; font-size: 16px; cursor: pointer; transition: 0.3s; }
        .tab-btn.active { background: var(--accent-color); font-weight: bold; transform: scale(1.02); }
        
        /* Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù„Ø¹Ø¨ */
        .game-section { display: none; }
        .game-section.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ø§Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆÙ…Ø¤Ù‚Øª */
        .stats-bar { display: flex; justify-content: space-between; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px; margin-bottom: 15px; }
        .timer-box { text-align: center; font-size: 24px; font-weight: bold; margin: 15px 0; color: #e74c3c; background: #fff; border-radius: 50%; width: 50px; height: 50px; line-height: 50px; margin: 10px auto; }
        
        /* Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
        .question-text { font-size: 18px; text-align: center; margin-bottom: 20px; min-height: 50px; line-height: 1.4; }
        .options-grid { display: flex; flex-direction: column; gap: 10px; }
        .option-btn { padding: 15px; background: #34495e; border: 2px solid transparent; border-radius: 8px; color: white; text-align: right; cursor: pointer; font-size: 16px; transition: 0.2s; }
        .option-btn:hover { background: #3d566e; }
        
        /* Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .option-btn.correct { background: rgba(39, 174, 96, 0.3); border-color: #2ecc71; }
        .option-btn.wrong { background: rgba(192, 57, 43, 0.3); border-color: #e74c3c; }
        .disabled { pointer-events: none; opacity: 0.8; }

        /* Ø§Ù„ØªØ­ÙƒÙ… */
        .controls { margin-top: 20px; }
        .action-btn { width: 100%; padding: 15px; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; color: white; }
        .btn-start { background: #2980b9; }
        .btn-next { background: #27ae60; display: none; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .result-screen { text-align: center; display: none; padding: 20px; }
        .final-score { font-size: 48px; color: #f1c40f; font-weight: bold; margin: 10px 0; }
        .btn-restart { background: #c0392b; margin-top: 15px; }

        /* Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙƒØ±Ø© */
        .levels { display: flex; gap: 5px; margin-bottom: 15px; justify-content: center; }
        .lvl-badge { font-size: 12px; padding: 5px 10px; background: #333; border-radius: 15px; opacity: 0.5; }
        .lvl-badge.active { opacity: 1; background: #f1c40f; color: #000; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ðŸŽ® Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡</h1>
    </header>

    <div class="tabs">
        <button class="tab-btn active" onclick="switchGame('iq')">ðŸ§  Ø§Ø®ØªØ¨Ø§Ø± IQ</button>
        <button class="tab-btn" onclick="switchGame('football')">âš½ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…</button>
    </div>

    <div id="iq-game" class="game-section active">
        <div class="stats-bar">
            <span>Ø§Ù„Ù†Ù‚Ø§Ø·: <b id="iq-score">0</b></span>
            <span>Ø§Ù„Ø³Ø¤Ø§Ù„: <b id="iq-count">0/10</b></span>
        </div>
        
        <div id="iq-play-area">
            <div class="timer-box" id="iq-timer">20</div>
            <div class="question-text" id="iq-question">Ø§Ø¶ØºØ· "Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±" Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚!</div>
            <div class="options-grid" id="iq-options"></div>
            <div class="controls">
                <button class="action-btn btn-start" id="btn-start-iq" onclick="startIQ()">Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
                <button class="action-btn btn-next" id="btn-next-iq" onclick="nextIQ()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>

        <div id="iq-result" class="result-screen">
            <h2>Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!</h2>
            <div class="final-score" id="iq-final-score">0</div>
            <p id="iq-msg"></p>
            <button class="action-btn btn-restart" onclick="resetIQ()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
        </div>
    </div>

    <div id="football-game" class="game-section">
        <div class="levels">
            <div class="lvl-badge active" id="lvl-1">Ø³Ù‡Ù„</div>
            <div class="lvl-badge" id="lvl-2">Ù…ØªÙˆØ³Ø·</div>
            <div class="lvl-badge" id="lvl-3">ØµØ¹Ø¨</div>
            <div class="lvl-badge" id="lvl-4">Ø£Ø³Ø·ÙˆØ±Ø©</div>
        </div>
        <div class="stats-bar">
            <span>Ø§Ù„Ù†Ù‚Ø§Ø·: <b id="fb-score">0</b></span>
            <span>Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <b id="fb-lvl-num">1</b></span>
        </div>

        <div id="fb-play-area">
            <div class="timer-box" id="fb-timer">15</div>
            <div class="question-text" id="fb-question">Ù‡Ù„ Ø£Ù†Øª Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠ Ø§Ù„ÙƒØ±ÙˆÙŠØŸ</div>
            <div class="options-grid" id="fb-options"></div>
            <div class="controls">
                <button class="action-btn btn-start" id="btn-start-fb" onclick="startFootball(1)">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button>
                <button class="action-btn btn-next" id="btn-next-fb" onclick="nextFB()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>

        <div id="fb-result" class="result-screen">
            <h2 id="fb-res-title">Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø±Ø­Ù„Ø©</h2>
            <div class="final-score" id="fb-final-score">0/5</div>
            <p id="fb-msg"></p>
            <button class="action-btn btn-restart" id="fb-restart-btn" onclick="resetFootball()">Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button class="action-btn btn-next" id="fb-levelup-btn" style="margin-top:10px; background:#27ae60;" onclick="nextLevelFB()">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ âž¡</button>
        </div>
    </div>
</div>

<script>
    // ================= Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© =================
    const iqQuestionsData = [
        { t: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ: 2, 4, 8, 16 ... ØŸ", o: ["18", "20", "24", "32"], a: "32" },
        { t: "Ø´ÙŠØ¡ ÙƒÙ„Ù…Ø§ Ø£Ø®Ø°Øª Ù…Ù†Ù‡ ÙƒØ¨Ø±ØŸ", o: ["Ø§Ù„Ù…Ø§Ù„", "Ø§Ù„Ø­ÙØ±Ø©", "Ø§Ù„Ø¹Ù…Ø±", "Ø§Ù„Ø¬Ø¨Ù„"], a: "Ø§Ù„Ø­ÙØ±Ø©" },
        { t: "Ù…Ø§ Ù‡Ùˆ Ø­Ø§ØµÙ„ Ø¶Ø±Ø¨ 7 Ã— 8 ØŸ", o: ["54", "56", "48", "64"], a: "56" },
        { t: "Ø£Ø®Øª Ø®Ø§Ù„Ùƒ ÙˆÙ„ÙŠØ³Øª Ø®Ø§Ù„ØªÙƒØŸ", o: ["Ø¬Ø¯ØªÙƒ", "Ø£Ù…Ùƒ", "Ø£Ø®ØªÙƒ", "Ø¹Ù…ØªÙƒ"], a: "Ø£Ù…Ùƒ" },
        { t: "Ø´ÙŠØ¡ Ù„Ù‡ Ø£Ø³Ù†Ø§Ù† ÙˆÙ„Ø§ ÙŠØ¹Ø¶ØŸ", o: ["Ø§Ù„Ù…Ø´Ø·", "Ø§Ù„Ù…Ù†Ø´Ø§Ø±", "Ø§Ù„ØªÙ…Ø³Ø§Ø­", "Ø§Ù„Ø´ÙˆÙƒØ©"], a: "Ø§Ù„Ù…Ø´Ø·" },
        { t: "10 + 10 Ã— 0 + 10 = ØŸ", o: ["20", "10", "30", "0"], a: "20" },
        { t: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠÙƒØªØ¨ ÙˆÙ„Ø§ ÙŠÙ‚Ø±Ø£ØŸ", o: ["Ø§Ù„Ù‚Ù„Ù…", "Ø§Ù„ÙƒØªØ§Ø¨", "Ø§Ù„Ø¹ÙŠÙ†", "Ø§Ù„Ù†Ø¸Ø§Ø±Ø©"], a: "Ø§Ù„Ù‚Ù„Ù…" },
        { t: "Ø¨ÙŠØª Ù„ÙŠØ³ ÙÙŠÙ‡ Ø£Ø¨ÙˆØ§Ø¨ ÙˆÙ„Ø§ Ù†ÙˆØ§ÙØ°ØŸ", o: ["Ø¨ÙŠØª Ø§Ù„Ø´Ø¹Ø±", "Ø¨ÙŠØª Ø§Ù„Ù†Ù…Ù„", "Ø¨ÙŠØª Ø§Ù„Ø¹Ù†ÙƒÙˆØª", "Ø§Ù„ØªØ§Ø¨ÙˆØª"], a: "Ø¨ÙŠØª Ø§Ù„Ø´Ø¹Ø±" },
        { t: "Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©: 1, 1, 2, 3, 5, ... ØŸ", o: ["6", "7", "8", "9"], a: "8" },
        { t: "Ø´Ù‡Ø± Ù…ÙŠÙ„Ø§Ø¯ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 28 ÙŠÙˆÙ…ØŸ", o: ["ÙØ¨Ø±Ø§ÙŠØ± ÙÙ‚Ø·", "ÙƒÙ„ Ø§Ù„Ø´Ù‡ÙˆØ±", "ÙŠÙ†Ø§ÙŠØ±", "Ù„Ø§ ÙŠÙˆØ¬Ø¯"], a: "ÙƒÙ„ Ø§Ù„Ø´Ù‡ÙˆØ±" }
    ];

    const fbQuestionsData = {
        1: [ // Ø³Ù‡Ù„
            { t: "Ù…Ù† ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2022ØŸ", o: ["ÙØ±Ù†Ø³Ø§", "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„"], a: "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†" },
            { t: "Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ù…Ù„Ø¹Ø¨ Ø§Ù„ÙƒØ§Ù…Ø¨ Ù†ÙˆØŸ", o: ["Ù…Ø¯Ø±ÙŠØ¯", "Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©", "ÙØ§Ù„Ù†Ø³ÙŠØ§"], a: "Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©" },
            { t: "ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ø¯Ø© Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ", o: ["45", "60", "90"], a: "90" },
            { t: "Ù„ÙˆÙ† Ù‚Ù…ÙŠØµ Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØŸ", o: ["Ø£ØµÙØ±", "Ø£Ø²Ø±Ù‚", "Ø£Ø®Ø¶Ø±"], a: "Ø£ØµÙØ±" },
            { t: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„ÙØ±ÙŠÙ‚ØŸ", o: ["10", "11", "12"], a: "11" }
        ],
        2: [ // Ù…ØªÙˆØ³Ø·
            { t: "Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù„Ø¨Ø±ØªØºØ§Ù„ØŸ", o: ["ÙÙŠØºÙˆ", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "Ù†Ø§Ù†ÙŠ"], a: "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ" },
            { t: "Ù…Ù† Ù‡Ùˆ 'Ø§Ù„Ø³Ø¨ÙŠØ´Ù„ ÙˆÙ†'ØŸ", o: ["ØºÙˆØ§Ø±Ø¯ÙŠÙˆÙ„Ø§", "Ù…ÙˆØ±ÙŠÙ†ÙŠÙˆ", "ÙƒÙ„ÙˆØ¨"], a: "Ù…ÙˆØ±ÙŠÙ†ÙŠÙˆ" },
            { t: "ÙØ±ÙŠÙ‚ ÙØ§Ø² Ø¨Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ 14 Ù…Ø±Ø©ØŸ", o: ["Ù…ÙŠÙ„Ø§Ù†", "Ù„ÙŠÙØ±Ø¨ÙˆÙ„", "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯"], a: "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯" },
            { t: "Ø§ÙŠÙ† Ø£Ù‚ÙŠÙ… ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2010ØŸ", o: ["Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§"], a: "Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§" },
            { t: "Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø°ÙŠ Ø¹Ø¶ ÙƒÙŠÙ„ÙŠÙ†ÙŠØŸ", o: ["Ø³ÙˆØ§Ø±ÙŠØ²", "Ø¨ÙŠØ¨ÙŠ", "Ø±Ø§Ù…ÙˆØ³"], a: "Ø³ÙˆØ§Ø±ÙŠØ²" }
        ],
        3: [ // ØµØ¹Ø¨
            { t: "Ù…Ù† ÙØ§Ø² Ø¨Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© 2007ØŸ", o: ["Ù…ÙŠØ³ÙŠ", "ÙƒØ§ÙƒØ§", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ"], a: "ÙƒØ§ÙƒØ§" },
            { t: "Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù„Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o: ["Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ", "Ø¨ÙŠÙ„ÙŠÙ‡", "ÙƒÙ„ÙˆØ²Ù‡"], a: "ÙƒÙ„ÙˆØ²Ù‡" },
            { t: "ØªØ£Ø³Ø³ Ù†Ø§Ø¯ÙŠ Ø¨Ø±Ø´Ù„ÙˆÙ†Ø© Ø¹Ø§Ù…ØŸ", o: ["1899", "1902", "1900"], a: "1899" },
            { t: "Ø£ÙƒØ«Ø± Ù…Ù†ØªØ®Ø¨ Ø®Ø³Ø± Ù†Ù‡Ø§Ø¦ÙŠØ§Øª ÙƒØ£Ø³ Ø¹Ø§Ù„Ù…ØŸ", o: ["Ù‡ÙˆÙ„Ù†Ø¯Ø§", "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§"], a: "Ø£Ù„Ù…Ø§Ù†ÙŠØ§" }, // Ø£Ù„Ù…Ø§Ù†ÙŠØ§ (Ø£Ùˆ ØºØ±Ø¨ Ø£Ù„Ù…Ø§Ù†ÙŠØ§) Ø®Ø³Ø±Øª 4 Ù…Ø±Ø§Øª
            { t: "Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø§Ù„ÙØ§Ø¦Ø² Ø¨Ù€ 3 Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„Ø§ØªØŸ", o: ["Ø¨ÙŠÙ„ÙŠÙ‡", "Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§", "Ø²ÙŠØ¯Ø§Ù†"], a: "Ø¨ÙŠÙ„ÙŠÙ‡" }
        ],
        4: [ // Ø£Ø³Ø·ÙˆØ±Ø©
            { t: "Ø£ÙˆÙ„ Ù…Ù†ØªØ®Ø¨ Ø¹Ø±Ø¨ÙŠ Ø´Ø§Ø±Ùƒ Ø¨Ø§Ù„Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o: ["Ù…ØµØ±", "Ø§Ù„Ù…ØºØ±Ø¨", "ØªÙˆÙ†Ø³"], a: "Ù…ØµØ±" },
            { t: "Ø§Ù„Ø­Ø§Ø±Ø³ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª Ø§Ù„Ø£Ø³ÙˆØ¯ØŸ", o: ["Ø¨ÙˆÙÙˆÙ†", "Ù„ÙŠÙ ÙŠØ§Ø´ÙŠÙ†", "Ù†ÙˆÙŠØ±"], a: "Ù„ÙŠÙ ÙŠØ§Ø´ÙŠÙ†" },
            { t: "Ù‡Ø¯Ø§Ù ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 1958ØŸ", o: ["Ø¨ÙŠÙ„ÙŠÙ‡", "ÙÙˆÙ†ØªÙŠÙ†", "Ù…ÙˆÙ„Ø±"], a: "ÙÙˆÙ†ØªÙŠÙ†" },
            { t: "Ù…Ù† Ø³Ø¬Ù„ Ø£Ø³Ø±Ø¹ Ù‡Ø¯Ù ÙÙŠ Ø§Ù„Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o: ["Ù‡Ø§ÙƒØ§Ù† Ø´ÙˆÙƒÙˆØ±", "ÙƒÙ„ÙŠÙ†Ø³Ù…Ø§Ù†", "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ"], a: "Ù‡Ø§ÙƒØ§Ù† Ø´ÙˆÙƒÙˆØ±" },
            { t: "ÙƒÙ… Ù…Ø±Ø© ÙØ§Ø² Ù…ÙŠÙ„Ø§Ù† Ø¨Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ØŸ", o: ["5", "6", "7"], a: "7" }
        ]
    };

    // ================= Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø© =================
    let timerInterval;
    let currentScore = 0;
    let qIndex = 0;
    let currentLevel = 1;
    let currentQuestions = [];
    let isIQ = true;

    // ================= Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ =================
    function switchGame(type) {
        clearInterval(timerInterval);
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
        
        if (type === 'iq') {
            document.querySelector("button[onclick=\"switchGame('iq')\"]").classList.add('active');
            document.getElementById('iq-game').classList.add('active');
            resetIQ();
            isIQ = true;
        } else {
            document.querySelector("button[onclick=\"switchGame('football')\"]").classList.add('active');
            document.getElementById('football-game').classList.add('active');
            resetFootball();
            isIQ = false;
        }
    }

    // ================= Ù…Ù†Ø·Ù‚ IQ =================
    function startIQ() {
        currentQuestions = [...iqQuestionsData].sort(() => Math.random() - 0.5); // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        qIndex = 0;
        currentScore = 0;
        document.getElementById('iq-score').innerText = '0';
        document.getElementById('btn-start-iq').style.display = 'none';
        document.getElementById('iq-result').style.display = 'none';
        document.getElementById('iq-play-area').style.display = 'block';
        showIQQuestion();
    }

    function showIQQuestion() {
        if (qIndex >= 10) { endIQ(); return; }
        
        const q = currentQuestions[qIndex];
        document.getElementById('iq-count').innerText = `${qIndex + 1}/10`;
        document.getElementById('iq-question').innerText = q.t;
        document.getElementById('btn-next-iq').style.display = 'none';
        
        const optsDiv = document.getElementById('iq-options');
        optsDiv.innerHTML = '';
        
        // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        let options = [...q.o].sort(() => Math.random() - 0.5);
        
        options.forEach(opt => {
            const btn = document.createElement('div');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt, q.a, 'iq');
            optsDiv.appendChild(btn);
        });

        startTimer(20, 'iq-timer', () => revealCorrectAnswer(q.a, 'iq-options', 'btn-next-iq'));
    }

    function nextIQ() {
        qIndex++;
        showIQQuestion();
    }

    function endIQ() {
        document.getElementById('iq-play-area').style.display = 'none';
        document.getElementById('iq-result').style.display = 'block';
        document.getElementById('iq-final-score').innerText = currentScore;
        
        let msg = "";
        if (currentScore >= 90) msg = "Ø£Ù†Øª Ø¹Ø¨Ù‚Ø±ÙŠ! ðŸ§ ";
        else if (currentScore >= 70) msg = "Ø°ÙƒØ§Ø¡ Ù…Ù…ØªØ§Ø²!";
        else if (currentScore >= 50) msg = "Ù…Ø³ØªÙˆÙ‰ Ø¬ÙŠØ¯";
        else msg = "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
        document.getElementById('iq-msg').innerText = msg;
    }

    function resetIQ() {
        document.getElementById('btn-start-iq').style.display = 'block';
        document.getElementById('iq-result').style.display = 'none';
        document.getElementById('iq-question').innerText = "Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ";
        document.getElementById('iq-options').innerHTML = '';
        document.getElementById('iq-score').innerText = '0';
        clearInterval(timerInterval);
    }

    // ================= Ù…Ù†Ø·Ù‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… =================
    function startFootball(lvl) {
        currentLevel = lvl;
        currentQuestions = fbQuestionsData[lvl]; // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø«Ø§Ø¨ØªØ© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        qIndex = 0;
        currentScore = 0;
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
        document.querySelectorAll('.lvl-badge').forEach((el, idx) => {
            el.classList.toggle('active', (idx + 1) === lvl);
        });
        
        document.getElementById('fb-lvl-num').innerText = lvl;
        document.getElementById('fb-score').innerText = '0';
        document.getElementById('btn-start-fb').style.display = 'none';
        document.getElementById('fb-result').style.display = 'none';
        document.getElementById('fb-play-area').style.display = 'block';
        
        showFBQuestion();
    }

    function showFBQuestion() {
        if (qIndex >= 5) { endFBLevel(); return; }
        
        const q = currentQuestions[qIndex];
        document.getElementById('fb-question').innerText = q.t;
        document.getElementById('btn-next-fb').style.display = 'none';
        
        const optsDiv = document.getElementById('fb-options');
        optsDiv.innerHTML = '';
        
        let options = [...q.o].sort(() => Math.random() - 0.5);
        
        options.forEach(opt => {
            const btn = document.createElement('div');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt, q.a, 'fb');
            optsDiv.appendChild(btn);
        });

        startTimer(15, 'fb-timer', () => revealCorrectAnswer(q.a, 'fb-options', 'btn-next-fb'));
    }

    function nextFB() {
        qIndex++;
        showFBQuestion();
    }

    function endFBLevel() {
        document.getElementById('fb-play-area').style.display = 'none';
        document.getElementById('fb-result').style.display = 'block';
        document.getElementById('fb-final-score').innerText = `${currentScore}/5`;
        
        const nextBtn = document.getElementById('fb-levelup-btn');
        const restartBtn = document.getElementById('fb-restart-btn');
        const title = document.getElementById('fb-res-title');
        
        // Ø´Ø±Ø· Ø§Ù„Ù†Ø¬Ø§Ø­: 3 Ù…Ù† 5 Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
        if (currentScore >= 3) {
            if (currentLevel === 4) {
                title.innerText = "ðŸ† Ø®ØªÙ…Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!";
                document.getElementById('fb-msg').innerText = "Ø£Ù†Øª Ø£Ø³Ø·ÙˆØ±Ø© ÙƒØ±ÙˆÙŠØ© Ø­Ù‚ÙŠÙ‚ÙŠØ©!";
                nextBtn.style.display = 'none';
                restartBtn.innerText = "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©";
                restartBtn.onclick = resetFootball;
            } else {
                title.innerText = "Ù…Ø±Ø­Ù„Ø© Ù…ÙƒØªÙ…Ù„Ø©! âœ…";
                document.getElementById('fb-msg').innerText = "Ø£Ø­Ø³Ù†Øª! Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ.";
                nextBtn.style.display = 'block';
                restartBtn.style.display = 'none';
            }
        } else {
            title.innerText = "ÙØ´Ù„Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø© âŒ";
            document.getElementById('fb-msg').innerText = "ÙŠØ¬Ø¨ Ø£Ù† ØªØ¬ÙŠØ¨ Ø¹Ù„Ù‰ 3 Ø£Ø³Ø¦Ù„Ø© ØµØ­ÙŠØ­Ø©.";
            nextBtn.style.display = 'none';
            restartBtn.style.display = 'block';
            restartBtn.innerText = "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø±Ø­Ù„Ø©";
            restartBtn.onclick = () => startFootball(currentLevel);
        }
    }

    function nextLevelFB() {
        startFootball(currentLevel + 1);
    }

    function resetFootball() {
        startFootball(1); // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø³ØªÙˆÙ‰ 1 Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        document.getElementById('btn-start-fb').style.display = 'block'; // Ø¥Ø¹Ø§Ø¯Ø© Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡ Ù„Ù„Ø¸Ù‡ÙˆØ±
        document.getElementById('fb-play-area').style.display = 'block';
        // Ø¥Ø®ÙØ§Ø¡ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø¤Ù‚ØªØ§Ù‹ Ø­ØªÙ‰ ÙŠØ¶ØºØ· Ø§Ù„Ø¨Ø¯Ø¡
        document.getElementById('fb-play-area').children[1].innerText = "Ù‡Ù„ Ø£Ù†Øª Ø¬Ø§Ù‡Ø²ØŸ";
        document.getElementById('fb-options').innerHTML = '';
        clearInterval(timerInterval);
    }

    // ================= Ø£Ø¯ÙˆØ§Øª Ù…Ø´ØªØ±ÙƒØ© =================
    function startTimer(seconds, elemId, onFinish) {
        clearInterval(timerInterval);
        const timerElem = document.getElementById(elemId);
        timerElem.innerText = seconds;
        
        timerInterval = setInterval(() => {
            seconds--;
            timerElem.innerText = seconds;
            if (seconds <= 0) {
                clearInterval(timerInterval);
                onFinish();
            }
        }, 1000);
    }

    function checkAnswer(btn, selected, correct, type) {
        if (document.querySelector('.options-grid .disabled')) return; // Ù…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ù…ØªÙƒØ±Ø±
        clearInterval(timerInterval); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙˆÙ‚Øª
        
        const containerId = type === 'iq' ? 'iq-options' : 'fb-options';
        const nextBtnId = type === 'iq' ? 'btn-next-iq' : 'btn-next-fb';
        const scoreId = type === 'iq' ? 'iq-score' : 'fb-score';

        const allOpts = document.getElementById(containerId).children;
        Array.from(allOpts).forEach(o => o.classList.add('disabled'));

        if (selected === correct) {
            btn.classList.add('correct');
            currentScore += (type === 'iq' ? 10 : 1);
            document.getElementById(scoreId).innerText = currentScore;
        } else {
            btn.classList.add('wrong');
            // ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
            Array.from(allOpts).forEach(o => {
                if (o.innerText === correct) o.classList.add('correct');
            });
        }
        document.getElementById(nextBtnId).style.display = 'block';
    }

    function revealCorrectAnswer(correct, containerId, nextBtnId) {
        const allOpts = document.getElementById(containerId).children;
        Array.from(allOpts).forEach(o => {
            o.classList.add('disabled');
            if (o.innerText === correct) o.classList.add('correct');
        });
        document.getElementById(nextBtnId).style.display = 'block';
    }
</script>

</body>
</html>
