<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡</title>
    <style>
        /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… --- */
        :root {
            --bg: #1a1a2e;
            --card: #16213e;
            --accent: #0f3460;
            --primary: #e94560;
            --text: #ffffff;
            --green: #4cc9f0;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            text-align: center;
        }

        .container {
            width: 100%;
            max-width: 500px;
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 20px;
            position: relative;
        }

        /* Ø§Ù„Ø´Ø§Ø´Ø§Øª */
        .screen {
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            animation: fadeIn 0.5s;
        }
        .screen.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card-btn {
            background: var(--card);
            border: 2px solid var(--accent);
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            margin: 10px 0;
            cursor: pointer;
            transition: 0.3s;
        }
        .card-btn:active { transform: scale(0.95); border-color: var(--primary); }
        .card-btn h2 { margin: 10px 0; font-size: 1.5rem; }

        .btn-main {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            margin-top: 20px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(233, 69, 96, 0.4);
        }

        /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .timer-box {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            border: 4px solid var(--card);
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 30px;
            line-height: 1.4;
            min-height: 60px;
        }

        .options-list { width: 100%; }
        
        .option {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            border: 1px solid transparent;
        }

        /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .option.correct { background: rgba(76, 201, 240, 0.3); border-color: var(--green); }
        .option.wrong { background: rgba(233, 69, 96, 0.3); border-color: var(--primary); }
        .disabled { pointer-events: none; opacity: 0.8; }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ø£Ø³ */
        .header-info {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #ccc;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }
    </style>
</head>
<body>

<div class="container">

    <div id="screen-home" class="screen active">
        <h1>ğŸ® Ø§Ø®ØªØ± Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
        
        <div class="card-btn" onclick="Game.start('football')">
            <div style="font-size: 3rem;">âš½</div>
            <h2>ØªØ­Ø¯ÙŠ Ø§Ù„ÙƒØ±Ø©</h2>
            <p>4 Ù…Ø±Ø§Ø­Ù„ | 15 Ø«Ø§Ù†ÙŠØ©</p>
        </div>

        <div class="card-btn" onclick="Game.start('iq')">
            <div style="font-size: 3rem;">ğŸ§ </div>
            <h2>Ø§Ø®ØªØ¨Ø§Ø± IQ</h2>
            <p>25 Ø³Ø¤Ø§Ù„ | 30 Ø«Ø§Ù†ÙŠØ©</p>
        </div>
    </div>

    <div id="screen-play" class="screen" style="justify-content: flex-start; padding-top: 40px;">
        <div class="header-info">
            <span id="lbl-level">Ù…Ø±Ø­Ù„Ø© 1</span>
            <span id="lbl-qcount">1 / 10</span>
        </div>

        <div class="timer-box" id="timer-display">15</div>

        <div class="question-text" id="q-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„...</div>

        <div class="options-list" id="opts-area">
            </div>
    </div>

    <div id="screen-pass" class="screen">
        <h1 style="color: var(--green)">Ù…Ø¨Ø±ÙˆÙƒ! ğŸ†</h1>
        <p id="msg-pass" style="font-size: 1.2rem; margin: 20px 0;">ØªØ£Ù‡Ù„Øª Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</p>
        <button class="btn-main" onclick="Game.nextLevel()">Ø§Ø³ØªÙ…Ø±Ø§Ø±</button>
    </div>

    <div id="screen-result" class="screen">
        <h1 id="res-title">Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
        <div style="font-size: 4rem; margin: 20px 0;" id="res-icon">ğŸ“Š</div>
        <h2 id="res-score" style="color: var(--primary)">0</h2>
        <p id="res-msg">...</p>
        <button class="btn-main" onclick="location.reload()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>

</div>

<script>
    /* --- 1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ØªÙ… Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­ØªÙ‡Ø§) --- */
    
    // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ (25 Ø³Ø¤Ø§Ù„)
    const DATA_IQ = [
        {q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ: 2, 4, 8, 16...ØŸ", o:["24","32","30","20"], c:1},
        {q:"Ø³Ø¹Ø± 3 Ø£Ù‚Ù„Ø§Ù… 15ØŒ ÙƒÙ… Ø³Ø¹Ø± 7 Ø£Ù‚Ù„Ø§Ù…ØŸ", o:["35","30","40","25"], c:0},
        {q:"Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø´Ø§Ø°Ø©: ØªÙØ§Ø­ØŒ Ù…ÙˆØ²ØŒ Ø¬Ø²Ø±ØŒ Ø¹Ù†Ø¨", o:["ØªÙØ§Ø­","Ù…ÙˆØ²","Ø¬Ø²Ø±","Ø¹Ù†Ø¨"], c:2},
        {q:"Ù†ØµÙ Ø±Ø¨Ø¹ Ø§Ù„Ø±Ù‚Ù… 400ØŸ", o:["100","25","50","10"], c:2},
        {q:"Ø¹ÙƒØ³ ÙƒÙ„Ù…Ø© 'ØªÙØ§Ø¤Ù„'ØŸ", o:["ØªØ´Ø§Ø¤Ù…","Ø­Ø²Ù†","ØºØ¶Ø¨","Ø®ÙˆÙ"], c:0},
        {q:"ÙƒÙ… ÙˆØ¬Ù‡Ø§Ù‹ Ù„Ù„Ù…ÙƒØ¹Ø¨ØŸ", o:["4","8","6","12"], c:2},
        {q:"Ù…Ø§ Ù‡Ùˆ Ø­Ø§ØµÙ„ Ø¶Ø±Ø¨ 12 Ã— 12ØŸ", o:["144","124","142","122"], c:0},
        {q:"Ø£ÙƒÙ…Ù„ Ø§Ù„Ù†Ù…Ø·: Ø£ØŒ ØªØŒ Ø¬ØŒ Ø®...ØŸ", o:["Ø¯","Ø°","Ø±","Ø²"], c:0},
        {q:"Ø§Ù„Ø´Ø§Ø° ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©: 3, 5, 7, 9, 11", o:["5","7","9","11"], c:2},
        {q:"Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø³Ø§Ø¹Ø© 3:00 ÙˆØªØ­Ø±ÙƒØª 90 Ø¯Ø±Ø¬Ø©ØŸ", o:["6:00","5:00","4:00","12:00"], c:0},
        {q:"100 Ù‚Ø³Ù…Ø© Ù†ØµÙ (0.5) ÙŠØ³Ø§ÙˆÙŠØŸ", o:["50","200","25","100"], c:1},
        {q:"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø¹Ø§ÙƒØ³ Ù„Ù„Ø£Ø¨ÙŠØ¶ØŸ", o:["Ø£Ø­Ù…Ø±","Ø£Ø²Ø±Ù‚","Ø£Ø³ÙˆØ¯","Ø£Ø®Ø¶Ø±"], c:2},
        {q:"Ø­ÙŠÙˆØ§Ù† Ù„Ø§ ÙŠÙ„Ø¯ØŸ", o:["Ø§Ù„Ø­ÙˆØª","Ø§Ù„Ø®ÙØ§Ø´","Ø§Ù„Ø¹ØµÙÙˆØ±","Ø§Ù„Ø£Ø±Ù†Ø¨"], c:2},
        {q:"Ø´ÙŠØ¡ ÙƒÙ„Ù…Ø§ Ø£Ø®Ø°Øª Ù…Ù†Ù‡ ÙƒØ¨Ø±ØŸ", o:["Ø§Ù„Ø­ÙØ±Ø©","Ø§Ù„Ø¨Ø­Ø±","Ø§Ù„Ù…Ø§Ù„","Ø§Ù„Ø¹Ù…Ø±"], c:0},
        {q:"ÙƒÙ… Ø´Ù‡Ø±Ø§Ù‹ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 28 ÙŠÙˆÙ…Ø§Ù‹ØŸ", o:["1","12","6","0"], c:1},
        {q:"ÙŠØ¯ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù‚ÙØ§Ø²ØŒ Ù…Ø«Ù„ Ù‚Ø¯Ù… Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù€...ØŸ", o:["Ø¬ÙˆØ±Ø¨","Ø±ÙƒØ¨Ø©","Ø¥ØµØ¨Ø¹","Ø¨Ù†Ø·Ø§Ù„"], c:0},
        {q:"Ø§Ù„Ù‚Ø·Ø© Ù„Ù„ÙØ£Ø± Ù…Ø«Ù„ Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª Ù„Ù€...ØŸ", o:["Ø§Ù„Ø®ÙŠØ·","Ø§Ù„Ø¨ÙŠØª","Ø§Ù„Ø°Ø¨Ø§Ø¨Ø©","Ø§Ù„Ø´Ø¬Ø±Ø©"], c:2},
        {q:"Ø®Ù…Ø³Ø© ÙŠØ­ÙØ±ÙˆÙ† Ø­ÙØ±Ø© ÙÙŠ 5 Ø³Ø§Ø¹Ø§ØªØŒ ÙƒÙ… ÙŠØ­ØªØ§Ø¬ Ø§Ù„ÙˆØ§Ø­Ø¯ØŸ", o:["Ø³Ø§Ø¹Ø©","5 Ø³Ø§Ø¹Ø§Øª","25 Ø³Ø§Ø¹Ø©","10 Ø³Ø§Ø¹Ø§Øª"], c:2},
        {q:"Ù…Ø§ Ù‡Ùˆ Ø£Ø«Ù‚Ù„: ÙƒÙŠÙ„Ùˆ Ø­Ø¯ÙŠØ¯ Ø£Ù… ÙƒÙŠÙ„Ùˆ Ù‚Ø·Ù†ØŸ", o:["Ø­Ø¯ÙŠØ¯","Ù‚Ø·Ù†","Ù†ÙØ³ Ø§Ù„ÙˆØ²Ù†","Ù„Ø§ Ø£Ø¹Ø±Ù"], c:2},
        {q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ù„Ù‡ Ø£Ø³Ù†Ø§Ù† ÙˆÙ„Ø§ ÙŠØ¹Ø¶ØŸ", o:["Ø§Ù„Ù…Ø´Ø·","Ø§Ù„Ù‚Ø±Ø´","Ø§Ù„Ù…Ù†Ø´Ø§Ø±","Ø§Ù„Ø£Ø³Ø¯"], c:0},
        {q:"Ø±Ù‚Ù… Ø¥Ø°Ø§ Ø¶Ø±Ø¨ØªÙ‡ ÙÙŠ Ù†ÙØ³Ù‡ ÙˆØ£Ø¶ÙØª 5 Ø£ØµØ¨Ø­ 30ØŸ", o:["4","6","5","3"], c:2},
        {q:"Ø¨Ù†Ø§Øª ÙˆØ§Ù„Ø¯ Ù…Ø±ÙŠÙ…: Ù†Ø§Ù†Ø§ØŒ Ù†ÙŠÙ†ÙŠØŒ Ù†ÙˆÙ†Ùˆ. Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©ØŸ", o:["Ù†ÙˆÙ†Ùˆ","Ù†ÙˆÙ†ÙŠ","Ù…Ø±ÙŠÙ…","Ù†ÙŠÙ†Ùˆ"], c:2},
        {q:"Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠØŸ", o:["Ø§Ù„Ø£Ø³Ø¯","Ø§Ù„Ù†Ù…Ø±","Ø§Ù„ÙÙ‡Ø¯","Ø§Ù„ØºØ²Ø§Ù„"], c:2},
        {q:"Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ", o:["Ù„Ù†Ø¯Ù†","Ø¨Ø±Ù„ÙŠÙ†","Ù…Ø¯Ø±ÙŠØ¯","Ø¨Ø§Ø±ÙŠØ³"], c:3},
        {q:"Ù†ØªÙŠØ¬Ø© 1 + 1 Ã— 0ØŸ", o:["0","1","2","10"], c:1}
    ];

    // Ø£Ø³Ø¦Ù„Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… (40 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ù„Ù„Ù…Ø±Ø§Ø­Ù„)
    const DATA_FOOT = [
        {q:"Ù‡Ø¯Ø§Ù Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØŸ", o:["Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ø±Ø§Ø¤ÙˆÙ„","Ø¨Ù†Ø²ÙŠÙ…Ø§","Ø²ÙŠØ¯Ø§Ù†"], c:0},
        {q:"ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©ØŸ", o:["45","60","90","100"], c:2},
        {q:"Ø¨Ø·Ù„ ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2022ØŸ", o:["ÙØ±Ù†Ø³Ø§","Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†","Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„","Ø£Ù„Ù…Ø§Ù†ÙŠØ§"], c:1},
        {q:"Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ Ø§Ù„Ù…Ù„Ø¹Ø¨ØŸ", o:["10","11","12","9"], c:1},
        {q:"Ù„ÙˆÙ† Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ø±Ø¯ØŸ", o:["Ø£ØµÙØ±","Ø£Ø¨ÙŠØ¶","Ø£Ø­Ù…Ø±","Ø£Ø³ÙˆØ¯"], c:2},
        {q:"Ù…Ù† Ù‡Ùˆ 'Ø§Ù„Ø¨Ø±ØºÙˆØ«'ØŸ", o:["Ù…ÙŠØ³ÙŠ","Ù†ÙŠÙ…Ø§Ø±","ØµÙ„Ø§Ø­","Ù…Ø­Ø±Ø²"], c:0},
        {q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ù…Ù„Ø¹Ø¨ ÙƒØ§Ù…Ø¨ Ù†ÙˆØŸ", o:["Ù…Ø¯Ø±ÙŠØ¯","Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©","Ù„Ù†Ø¯Ù†","Ù…ÙŠÙ„Ø§Ù†"], c:1},
        {q:"Ø¨Ø·Ù„ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ 2024ØŸ", o:["Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯","Ø§Ù„Ø³ÙŠØªÙŠ","Ø¨Ø§ÙŠØ±Ù†","Ù„ÙŠÙØ±Ø¨ÙˆÙ„"], c:0},
        {q:"Ù„Ù‚Ø¨ ÙŠÙˆÙÙ†ØªÙˆØ³ØŸ", o:["Ø§Ù„Ø³ÙŠØ¯Ø© Ø§Ù„Ø¹Ø¬ÙˆØ²","Ø§Ù„Ø´ÙŠØ§Ø·ÙŠÙ†","Ø§Ù„Ø°Ø¦Ø§Ø¨","Ø§Ù„Ù†Ø³ÙˆØ±"], c:0},
        {q:"Ø£ÙƒØ«Ø± Ù…Ù†ØªØ®Ø¨ ÙØ§Ø² Ø¨Ø§Ù„Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o:["Ø£Ù„Ù…Ø§Ù†ÙŠØ§","Ø¥ÙŠØ·Ø§Ù„ÙŠØ§","Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„","Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†"], c:2},
        {q:"Ø¬Ù†Ø³ÙŠØ© ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯ÙˆØŸ", o:["Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ","Ø¨Ø±ØªØºØ§Ù„ÙŠ","Ø¥Ø³Ø¨Ø§Ù†ÙŠ","Ø£Ø±Ø¬Ù†ØªÙŠÙ†ÙŠ"], c:1},
        {q:"Ù…Ù† Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙŠØ¯ ÙÙŠ 1986ØŸ", o:["Ø¨ÙŠÙ„ÙŠÙ‡","Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§","Ù…ÙŠØ³ÙŠ","Ø²ÙŠØ¯Ø§Ù†"], c:1},
        {q:"Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù‚Ø±Ù† ÙÙŠ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ØŸ", o:["Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ","Ø§Ù„Ø£Ù‡Ù„ÙŠ","Ø§Ù„Ø±Ø¬Ø§Ø¡","Ø§Ù„ØªØ±Ø¬ÙŠ"], c:1},
        {q:"Ù…Ø¯Ø±Ø¨ Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠØŸ", o:["ÙƒÙ„ÙˆØ¨","ØºÙˆØ§Ø±Ø¯ÙŠÙˆÙ„Ø§","Ù…ÙˆØ±ÙŠÙ†ÙŠÙˆ","ØªØ´Ø§ÙÙŠ"], c:1},
        {q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø£Ù‚ÙŠÙ… Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ Ù‚Ø·Ø±ØŸ", o:["2018","2020","2022","2024"], c:2},
        {q:"ØµØ§Ø­Ø¨ Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© 2007ØŸ", o:["ÙƒØ§ÙƒØ§","Ù…ÙŠØ³ÙŠ","Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ø±ÙˆÙ†Ø§Ù„Ø¯ÙŠÙ†ÙŠÙˆ"], c:0},
        {q:"Ø£ÙŠÙ† Ø£Ù‚ÙŠÙ… Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ 2010ØŸ", o:["Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„","Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§","ÙØ±Ù†Ø³Ø§","Ø±ÙˆØ³ÙŠØ§"], c:1},
        {q:"Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù„Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o:["ÙƒÙ„ÙˆØ²Ù‡","Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ø¨ÙŠÙ„ÙŠÙ‡","Ù…ÙŠØ³ÙŠ"], c:0},
        {q:"ÙƒÙ… Ù…Ø±Ø© ÙØ§Ø²Øª Ù…ØµØ± Ø¨Ø£ÙØ±ÙŠÙ‚ÙŠØ§ØŸ", o:["5","6","7","8"], c:2},
        {q:"Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©ØŸ", o:["ÙƒØ±Ø³ØªÙŠØ§Ù†Ùˆ","Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ","Ù…ÙŠØ³ÙŠ","Ù†ÙŠÙ…Ø§Ø±"], c:1},
        {q:"Ù†Ø§Ø¯ÙŠ Ø§Ù„ØºÙˆØ§ØµØ§Øª Ø§Ù„ØµÙØ±Ø§Ø¡ØŸ", o:["ÙÙŠØ§Ø±ÙŠØ§Ù„","Ø¯ÙˆØ±ØªÙ…ÙˆÙ†Ø¯","Ø§Ù„Ù†ØµØ±","Ù‚Ø§Ø¯Ø´"], c:0},
        {q:"Ù…Ù† Ù‡Ùˆ Ø­Ø§Ø±Ø³ Ø£Ù„Ù…Ø§Ù†ÙŠØ§ØŸ", o:["Ù†ÙˆÙŠØ±","Ø´ØªÙŠØºÙ†","Ù„ÙŠÙ†Ùˆ","ØªØ±Ø§Ø¨"], c:0},
        {q:"Ø£ÙˆÙ„ ÙØ±ÙŠÙ‚ Ø¹Ø±Ø¨ÙŠ Ø¨Ø§Ù„Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o:["Ù…ØµØ±","Ø§Ù„Ù…ØºØ±Ø¨","ØªÙˆÙ†Ø³","Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©"], c:0},
        {q:"Ø£ÙƒØ¨Ø± Ù†ØªÙŠØ¬Ø© ÙÙŠ Ù†Ù‡Ø§Ø¦ÙŠ Ù…ÙˆÙ†Ø¯ÙŠØ§Ù„ØŸ", o:["5-2","4-2","3-0","2-1"], c:0},
        {q:"Ù…Ù† ÙØ§Ø² Ø¨ÙŠÙˆØ±Ùˆ 2004ØŸ", o:["Ø§Ù„Ø¨Ø±ØªØºØ§Ù„","Ø§Ù„ÙŠÙˆÙ†Ø§Ù†","ÙØ±Ù†Ø³Ø§","Ø¥ÙŠØ·Ø§Ù„ÙŠØ§"], c:1},
        {q:"Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŸ", o:["Ø±ÙˆÙ†ÙŠ","ÙƒÙŠÙ†","Ø´ÙŠØ±Ø±","Ø£ØºÙˆÙŠØ±Ùˆ"], c:2},
        {q:"ÙƒÙ… ÙØ±ÙŠÙ‚ ÙŠÙ‡Ø¨Ø· ÙÙŠ Ø¥Ù†Ø¬Ù„ØªØ±Ø§ØŸ", o:["2","3","4","1"], c:1},
        {q:"Ù…Ù† Ù‡Ùˆ 'ÙØ®Ø± Ø§Ù„Ø¹Ø±Ø¨'ØŸ", o:["Ù…Ø­Ø±Ø²","ØµÙ„Ø§Ø­","Ø²ÙŠØ§Ø´","Ø­ÙƒÙŠÙ…ÙŠ"], c:1},
        {q:"Ø£ØºÙ„Ù‰ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ® (2024)ØŸ", o:["Ù†ÙŠÙ…Ø§Ø±","Ù…Ø¨Ø§Ø¨ÙŠ","Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ù…ÙŠØ³ÙŠ"], c:0},
        {q:"Ù…Ù„Ø¹Ø¨ Ù†Ù‡Ø§Ø¦ÙŠ 2022ØŸ", o:["Ù„ÙˆØ³ÙŠÙ„","Ø§Ù„Ø¨ÙŠØª","Ø§Ù„Ø¬ÙˆÙ‡Ø±Ø©","Ø®Ù„ÙŠÙØ©"], c:0},
        {q:"Ù…Ù† Ù‡Ùˆ Ù‡Ø¯Ø§Ù ÙØ±Ù†Ø³Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØŸ", o:["Ù‡ØªØ±ÙŠ","Ø¬ÙŠØ±Ùˆ","Ø²ÙŠØ¯Ø§Ù†","Ù…Ø¨Ø§Ø¨ÙŠ"], c:1},
        {q:"Ù…ØªÙ‰ ØªØ£Ø³Ø³ Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯ØŸ", o:["1900","1902","1905","1899"], c:1},
        {q:"ÙØ§Ø² Ø¨3 ÙƒØ¤ÙˆØ³ Ø¹Ø§Ù„Ù…ØŸ", o:["Ø¨ÙŠÙ„ÙŠÙ‡","Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§","Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","Ø²ÙŠØ¯Ø§Ù†"], c:0},
        {q:"Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© 2018ØŸ", o:["Ù…ÙˆØ¯Ø±ÙŠØªØ´","Ù…ÙŠØ³ÙŠ","Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ","ØºØ±ÙŠØ²Ù…Ø§Ù†"], c:0},
        {q:"Ù†Ø§Ø¯ÙŠ Ù„Ù… ÙŠÙ‡Ø¨Ø· ÙÙŠ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ØŸ", o:["Ø¥Ù†ØªØ±","Ù…ÙŠÙ„Ø§Ù†","ÙŠÙˆÙÙŠ","Ø±ÙˆÙ…Ø§"], c:0},
        {q:"Ø¬Ù†Ø³ÙŠØ© Ù‡Ø§Ù„Ø§Ù†Ø¯ØŸ", o:["Ø³ÙˆÙŠØ¯ÙŠ","Ù†Ø±ÙˆÙŠØ¬ÙŠ","Ø£Ù„Ù…Ø§Ù†ÙŠ","Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ"], c:1},
        {q:"Ø±Ù‚Ù… Ù‚Ù…ÙŠØµ Ù…ÙŠØ³ÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØŸ", o:["7","9","10","11"], c:2},
        {q:"Ù…Ù† Ø¯Ø±Ø¨ Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯ 3 Ù…Ø±Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ©ØŸ", o:["Ø²ÙŠØ¯Ø§Ù†","Ø£Ù†Ø´ÙŠÙ„ÙˆØªÙŠ","Ù…ÙˆØ±ÙŠÙ†ÙŠÙˆ","Ø¨ÙŠØ±ÙŠØ²"], c:0},
        {q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ù…Ù‚Ø± Ø§Ù„ÙÙŠÙØ§ØŸ", o:["Ø¨Ø§Ø±ÙŠØ³","Ø²ÙŠÙˆØ±Ø®","Ù„Ù†Ø¯Ù†","Ù…Ø¯Ø±ÙŠØ¯"], c:1},
        {q:"Ø£ÙˆÙ„ Ø£ÙØ±ÙŠÙ‚ÙŠ Ø¨Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©ØŸ", o:["ÙˆÙŠØ§","Ø¥ÙŠØªÙˆ","Ø¯Ø±ÙˆØºØ¨Ø§","Ù…Ø§Ù†ÙŠ"], c:0}
    ];

    /* --- 2. Ù…Ø­Ø±Ùƒ Ø§Ù„Ù„Ø¹Ø¨Ø© (Logic) --- */
    const Game = {
        state: {
            mode: '',
            questions: [],
            idx: 0,
            score: 0,
            lvlScore: 0,
            level: 1,
            timer: null,
            timeLeft: 0,
            locked: false
        },

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        start: function(mode) {
            this.state.mode = mode;
            this.state.score = 0;
            this.state.idx = 0;
            this.state.lvlScore = 0;
            this.state.level = 1;
            
            // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            if(mode === 'iq') {
                this.state.questions = [...DATA_IQ]; // Ù†Ø³Ø®
                this.state.timeMax = 30;
            } else {
                // Ø®Ù„Ø· Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙƒØ±Ø©
                let arr = [...DATA_FOOT];
                arr.sort(() => Math.random() - 0.5);
                this.state.questions = arr;
                this.state.timeMax = 15;
            }

            this.showScreen('screen-play');
            this.renderQuestion();
        },

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
        renderQuestion: function() {
            const s = this.state;
            const q = s.questions[s.idx];

            if(!q) { this.finish(true); return; } // Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©

            s.locked = false; // ÙÙƒ Ø§Ù„Ù‚ÙÙ„ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
            if(s.mode === 'iq') {
                document.getElementById('lbl-level').innerText = "Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡";
                document.getElementById('lbl-qcount').innerText = (s.idx + 1) + " / 25";
            } else {
                let currentQ = (s.idx % 10) + 1;
                document.getElementById('lbl-level').innerText = "Ù…Ø±Ø­Ù„Ø© " + s.level;
                document.getElementById('lbl-qcount').innerText = currentQ + " / 10";
            }

            document.getElementById('q-text').innerText = q.q;

            // Ø±Ø³Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            const area = document.getElementById('opts-area');
            area.innerHTML = ''; // Ù…Ø³Ø­ Ø§Ù„Ù‚Ø¯ÙŠÙ…
            
            q.o.forEach((txt, i) => {
                let btn = document.createElement('div');
                btn.className = 'option';
                btn.innerText = txt;
                btn.onclick = function() { Game.checkAnswer(i, this); }; // Ø±Ø¨Ø· Ø§Ù„Ù†Ù‚Ø±
                area.appendChild(btn);
            });

            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª
            this.startTimer();
        },

        // Ø§Ù„Ù…Ø¤Ù‚Øª
        startTimer: function() {
            clearInterval(this.state.timer);
            this.state.timeLeft = this.state.timeMax;
            document.getElementById('timer-display').innerText = this.state.timeLeft;

            this.state.timer = setInterval(() => {
                this.state.timeLeft--;
                document.getElementById('timer-display').innerText = this.state.timeLeft;
                if(this.state.timeLeft <= 0) {
                    this.checkAnswer(-1, null); // Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª
                }
            }, 1000);
        },

        // ÙØ­Øµ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        checkAnswer: function(choiceIdx, btnElement) {
            if(this.state.locked) return;
            this.state.locked = true;
            clearInterval(this.state.timer);

            const q = this.state.questions[this.state.idx];
            const isCorrect = (choiceIdx === q.c);
            
            // ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
            const all = document.querySelectorAll('.option');
            all.forEach(el => el.classList.add('disabled')); // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø±

            if(isCorrect) {
                if(btnElement) btnElement.classList.add('correct');
                this.state.score++;
                if(this.state.mode === 'football') this.state.lvlScore++;
            } else {
                if(btnElement) btnElement.classList.add('wrong');
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹
                if(all[q.c]) all[q.c].classList.add('correct');
            }

            // Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø«Ù… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
            setTimeout(() => {
                this.nextStep();
            }, 1000);
        },

        // Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©
        nextStep: function() {
            this.state.idx++;

            if(this.state.mode === 'iq') {
                if(this.state.idx < 25) this.renderQuestion();
                else this.finish();
            } else {
                // Ù…Ù†Ø·Ù‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… (ÙƒÙ„ 10 Ø£Ø³Ø¦Ù„Ø© ÙØ­Øµ)
                if(this.state.idx > 0 && this.state.idx % 10 === 0) {
                    this.checkLevelPass();
                } else {
                    this.renderQuestion();
                }
            }
        },

        // ÙØ­Øµ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ (ÙƒØ±Ø© Ù‚Ø¯Ù…)
        checkLevelPass: function() {
            const ls = this.state.lvlScore;
            const lvl = this.state.level;
            let pass = false;
            let needed = "";

            if(lvl === 1 && ls >= 5) { pass=true; needed="Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ 6 Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©"; }
            else if(lvl === 2 && ls >= 6) { pass=true; needed="Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ 8 Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©"; }
            else if(lvl === 3 && ls >= 8) { pass=true; needed="Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ 9 Ù„Ù„ÙÙˆØ²"; }
            else if(lvl === 4 && ls >= 9) { this.finish(true); return; } // ÙÙˆØ² Ù†Ù‡Ø§Ø¦ÙŠ

            if(pass) {
                this.showScreen('screen-pass');
                document.getElementById('msg-pass').innerText = `Ø£Ø¬Ø¨Øª ${ls}/10 ØµØ­ÙŠØ­. ${needed}`;
            } else {
                this.finish(false); // Ø®Ø³Ø§Ø±Ø©
            }
        },

        nextLevel: function() {
            this.state.level++;
            this.state.lvlScore = 0; // ØªØµÙÙŠØ± Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø±Ø­Ù„Ø©
            this.showScreen('screen-play');
            this.renderQuestion();
        },

        // Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        finish: function(winStatus) {
            this.showScreen('screen-result');
            const title = document.getElementById('res-title');
            const score = document.getElementById('res-score');
            const msg = document.getElementById('res-msg');

            if(this.state.mode === 'iq') {
                let iq = 80 + (this.state.score * 3);
                if(iq > 145) iq = 145;
                title.innerText = "Ù†ØªÙŠØ¬Ø© IQ";
                score.innerText = iq;
                msg.innerText = iq > 120 ? "Ø£Ù†Øª Ø¹Ø¨Ù‚Ø±ÙŠ!" : "Ù†ØªÙŠØ¬Ø© Ø¬ÙŠØ¯Ø©!";
            } else {
                if(winStatus === true) {
                    title.innerText = "Ø¨Ø·Ù„ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± ğŸ†";
                    score.innerText = "ÙÙˆØ²";
                    msg.innerText = "Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„!";
                } else {
                    title.innerText = "Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø© âŒ";
                    score.innerText = "Ø®Ø³Ø§Ø±Ø©";
                    msg.innerText = `Ø®Ø³Ø±Øª ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${this.state.level}`;
                }
            }
        },

        // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª
        showScreen: function(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }
    };
</script>

</body>
</html>
